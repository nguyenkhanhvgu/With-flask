# Production Environment Configuration Template
# Copy this file to .env.prod and fill in the actual values

# Flask Configuration
FLASK_ENV=production
SECRET_KEY=your-super-secret-key-here-change-this-in-production
DEBUG=False

# Database Configuration
DB_PASSWORD=your-secure-database-password
DATABASE_URL=postgresql://flask_user:${DB_PASSWORD}@db:5432/flask_blog_prod
POSTGRES_DB=flask_blog_prod
POSTGRES_USER=flask_user
POSTGRES_PASSWORD=${DB_PASSWORD}

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# Email Configuration
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_DEFAULT_SENDER=your-email@gmail.com

# Security Configuration
WTF_CSRF_ENABLED=True
WTF_CSRF_TIME_LIMIT=3600
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# File Upload Configuration
MAX_CONTENT_LENGTH=16777216  # 16MB
UPLOAD_FOLDER=/app/static/uploads
ALLOWED_EXTENSIONS=png,jpg,jpeg,gif,pdf,txt,doc,docx

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=/var/log/flask-blog/app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Cache Configuration
CACHE_TYPE=redis
CACHE_REDIS_URL=${REDIS_URL}
CACHE_DEFAULT_TIMEOUT=300

# Rate Limiting Configuration
RATELIMIT_STORAGE_URL=${REDIS_URL}
RATELIMIT_STRATEGY=fixed-window
RATELIMIT_DEFAULT=100 per hour

# Backup Configuration
BACKUP_DIR=/var/backups/flask-blog
RETENTION_DAYS=30
BACKUP_BEFORE_MIGRATE=true

# SSL Configuration (if using HTTPS)
SSL_DISABLE=False
SSL_REDIRECT=True
PREFERRED_URL_SCHEME=https

# Monitoring and Health Checks
HEALTH_CHECK_ENABLED=True
METRICS_ENABLED=True

# External Services (optional)
# SENTRY_DSN=https://your-sentry-dsn-here
# GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
# CLOUDFLARE_API_TOKEN=your-cloudflare-token

# Domain Configuration
DOMAIN_NAME=your-domain.com
ALLOWED_HOSTS=your-domain.com,www.your-domain.com

# Worker Configuration
GUNICORN_WORKERS=4
GUNICORN_WORKER_CLASS=gevent
GUNICORN_WORKER_CONNECTIONS=1000
GUNICORN_MAX_REQUESTS=1000
GUNICORN_TIMEOUT=30

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600